# ğŸ§­ Baseline Intent Detection

`ce_intent_classifier` provides **fast, deterministic intent detection**
*before* any LLM involvement.

This ensures ConvEngine always has a **baseline understanding**
of what the user is trying to do.

---

## ğŸ§  Why This Exists

> LLMs are powerful but expensive and probabilistic.  
> Intent classification should be **cheap, fast, and predictable**.

This table acts as the **first filter** in the pipeline.

---

## ğŸ“¦ Table Definition

```sql
CREATE TABLE ce_intent_classifier (
  classifier_id BIGSERIAL PRIMARY KEY,

  intent_code   TEXT NOT NULL,
  rule_type     TEXT NOT NULL,   -- REGEX | CONTAINS | STARTS_WITH
  pattern       TEXT NOT NULL,

  priority      INT NOT NULL,
  enabled       BOOLEAN DEFAULT true,
  description   TEXT
);
```

---

## ğŸ” How It Works

- Evaluated **only if intent is not already set**
- Checked **before rules**
- First matching classifier (by priority) wins

---

## âœï¸ Example Classifiers

```sql
INSERT INTO ce_intent_classifier
(intent_code, rule_type, pattern, priority)
VALUES
('GREETING', 'REGEX', '^(hi|hello|hey).*', 1),
('ACTION',   'CONTAINS', 'move', 10),
('ACTION',   'CONTAINS', 'transfer', 11),
('ACTION',   'CONTAINS', 'from', 12);
```

---

## ğŸ” Interaction with Rules

- Classifier sets **initial intent**
- Rules may later:
  - Override intent
  - Set state
  - Short-circuit flow

Classifier = **hint**, Rules = **authority**

---

## ğŸš« What Classifiers Should NOT Do

- âŒ Set state
- âŒ Modify context
- âŒ Perform extraction

They answer only one question:

> *â€œWhat kind of thing is the user trying to do?â€*

---

## âœ… Why This Design Scales

- Zero LLM cost
- Easy to tune via SQL
- Auditable decisions
- Safe defaults

This keeps ConvEngine **boringly reliable** at the start of every conversation.
