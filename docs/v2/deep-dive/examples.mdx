---
title: Real World Examples
sidebar_position: 3
hide_table_of_contents: true
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { Conversation, User, Assistant, DbTable, Highlight, CodeBlockToggle } from "@site/src/components/convengine";

# Real World Examples

This page is intentionally dense. Each flow is shown as:

1. Chat transcript
2. Per-turn step trace (what executed and why)
3. Required control-plane rows (`ce_*`)
4. Audit timeline with payload-level checkpoints

## Example 1: FAQ (informational path)

<Tabs groupId="v2-faq-deep">
  <TabItem value="chat" label="Chat Transcript" default>

<Conversation title="FAQ conversation">
  <User>How do I transfer my electricity connection?</User>
  <Assistant>Share customerId, phone, email, source city, and target city. Then confirm to submit transfer.</Assistant>
</Conversation>

<DbTable
  title="Intent and state outcome"
  columns={["Field", "Expected value", "Why"]}
  rows={[
    ["intent", "FAQ", "Classifier matches informational query language"],
    ["state", "IDLE", "No slot collection / no pending action required"],
    ["responseType", "DERIVED (TEXT)", "FAQ answer generated from prompt/context"],
  ]}
/>

  </TabItem>

  <TabItem value="trace" label="Per-turn Step Trace">

<DbTable
  title="Turn T1 runtime trace"
  columns={["Order", "Step", "Input facts", "Output facts"]}
  rows={[
    ["1", "LoadOrCreateConversationStep", "conversationId present or new", "session opened/hydrated"],
    ["2", "AuditUserInputStep", "raw user text", "USER_INPUT audit row"],
    ["3", "DialogueActStep", "question sentence", "dialogue_act=QUESTION"],
    ["4", "InteractionPolicyStep", "no pending_action, no pending_slot", "policy_decision=RECLASSIFY_INTENT"],
    ["5", "IntentResolutionStep", "classifiers + agent hints", "intent=FAQ, state=IDLE"],
    ["6", "SchemaExtractionStep", "FAQ schema (light)", "schema facts available"],
    ["7", "RulesStep", "no FAQ rule action", "RULE_NO_MATCH or no mutation"],
    ["8", "ResponseResolutionStep", "FAQ response row + prompt", "assistant output prepared"],
    ["9", "MemoryStep", "recent turn context", "memory_session_summary"],
    ["10", "PersistConversationStep", "final session", "conversation/audit persisted"],
  ]}
/>

<Highlight type="info" title="Why no pending-action path here">
`InteractionPolicyStep` sees no `pending_action` signal and does not produce `EXECUTE_PENDING_ACTION`. The turn continues as a regular intent-resolution flow.
</Highlight>

  </TabItem>

  <TabItem value="db" label="Required ce_* Rows">

<DbTable
  title="Minimum rows required for FAQ flow"
  columns={["Table", "Required row shape", "Used by"]}
  rows={[
    ["ce_intent", "intent_code=FAQ", "IntentResolutionStep"],
    ["ce_intent_classifier", "intent_code=FAQ, rule_type=REGEX", "IntentResolutionStep"],
    ["ce_prompt_template", "intent_code=FAQ, response_type=TEXT", "ResponseResolutionStep (DERIVED)"],
    ["ce_response", "intent_code=FAQ, state_code=IDLE", "ResponseResolutionStep"],
    ["ce_container_config", "intent_code=FAQ (optional context source)", "AddContainerDataStep"],
    ["ce_config", "AgentIntentResolver + SchemaExtractionStep prompt keys", "Intent/Schema steps"],
  ]}
/>

<CodeBlockToggle title="FAQ seed snippet" language="sql">
{`INSERT INTO ce_intent (intent_code, description, priority, enabled)
VALUES ('FAQ', 'Answer informational questions from FAQ knowledge base', 10, true);

INSERT INTO ce_intent_classifier (intent_code, rule_type, pattern, priority, enabled)
VALUES ('FAQ', 'REGEX', '(?i)\\b(what|how|help|faq|information|details|explain)\\b', 10, true);

INSERT INTO ce_prompt_template (intent_code, state_code, response_type, system_prompt, user_prompt, temperature, enabled)
VALUES ('FAQ', 'IDLE', 'TEXT',
        'You are a concise FAQ assistant. Answer directly and clearly.',
        'User question: {{user_input}}\\nFAQ context: {{container_data}}\\nReturn short helpful answer.',
        0.10, true);

INSERT INTO ce_response (intent_code, state_code, output_format, response_type, derivation_hint, priority, enabled)
VALUES ('FAQ', 'IDLE', 'TEXT', 'DERIVED',
        'Answer FAQ using available context and user question.', 10, true);`}
</CodeBlockToggle>

  </TabItem>

  <TabItem value="audit" label="Audit + Payload Postmortem">

<DbTable
  title="Expected audit stages (ordered)"
  columns={["Order", "Stage", "Must contain"]}
  rows={[
    ["1", "USER_INPUT", "original user message"],
    ["2", "DIALOGUE_ACT_CLASSIFIED", "dialogueAct=QUESTION"],
    ["3", "INTERACTION_POLICY_DECIDED", "policyDecision=RECLASSIFY_INTENT"],
    ["4", "INTENT_RESOLVED_BY_*", "intent=FAQ"],
    ["5", "RESOLVE_RESPONSE_SELECTED", "responseType=DERIVED"],
    ["6", "ASSISTANT_OUTPUT", "output text or json payload"],
    ["7", "MEMORY_UPDATED", "summaryChars/recalled flags"],
  ]}
/>

<CodeBlockToggle title="Audit payload checkpoint: DIALOGUE_ACT_CLASSIFIED" language="json">
{`{
  "_meta": { "stage": "DIALOGUE_ACT_CLASSIFIED" },
  "userText": "How do I transfer my electricity connection?",
  "dialogueAct": "QUESTION",
  "dialogueActConfidence": 0.70,
  "dialogueActSource": "REGEX"
}`}
</CodeBlockToggle>

<CodeBlockToggle title="Audit payload checkpoint: INTERACTION_POLICY_DECIDED" language="json">
{`{
  "_meta": { "stage": "INTERACTION_POLICY_DECIDED" },
  "dialogueAct": "QUESTION",
  "policyDecision": "RECLASSIFY_INTENT",
  "skipIntentResolution": false,
  "hasPendingAction": false,
  "hasPendingSlot": false
}`}
</CodeBlockToggle>

  </TabItem>
</Tabs>

## Example 2: CONNECTION_TRANSFER (multi-turn + confirmation + pending action)

<Tabs groupId="v2-transfer-deep">
  <TabItem value="chat" label="Chat Transcript" default>

<Conversation title="Connection transfer conversation">
  <User>Move my electricity connection from City1 to City2.</User>
  <Assistant>Please provide customerId, phone, email, sourceCity, and targetCity.</Assistant>
  <User>customerId 9912, phone 9988776655, email user@zapper.com, sourceCity City1, targetCity City2</User>
  <Assistant>Do you want to move this connection right away?</Assistant>
  <User>yes please</User>
  <Assistant>Connection transfer request submitted successfully.</Assistant>
</Conversation>

  </TabItem>

  <TabItem value="trace" label="Per-turn Step Trace">

<DbTable
  title="Turn T1 (initial request)"
  columns={["Step", "Key output", "Notes"]}
  rows={[
    ["IntentResolutionStep", "intent=CONNECTION_TRANSFER", "Classifier picks transfer intent"],
    ["SchemaExtractionStep", "missing fields computed", "Required slots are incomplete"],
    ["RulesStep", "state -> COLLECT_INPUTS", "Bootstrap collection state"],
    ["ResponseResolutionStep", "ask for required fields", "Prompt user for missing slots"],
  ]}
/>

<DbTable
  title="Turn T2 (slot fill)"
  columns={["Step", "Key output", "Notes"]}
  rows={[
    ["SchemaExtractionStep", "customerId/phone/email/sourceCity/targetCity extracted", "Schema complete"],
    ["RulesStep", "COLLECT_INPUTS -> AWAITING_CONFIRMATION", "User must confirm execution"],
    ["ResponseResolutionStep", "confirmation prompt", ""],
  ]}
/>

<DbTable
  title="Turn T3 (affirm)"
  columns={["Order", "Step", "Key output", "Why it matters"]}
  rows={[
    ["1", "DialogueActStep", "AFFIRM", "Converts 'yes please' into execution signal"],
    ["2", "InteractionPolicyStep", "EXECUTE_PENDING_ACTION", "Policy routes to pending action"],
    ["3", "ActionLifecycleStep", "OPEN -> IN_PROGRESS", "Runtime status tracked in context"],
    ["4", "DisambiguationStep", "not required", "Single eligible action"],
    ["5", "GuardrailStep", "ALLOW", "No sensitive/approval block"],
    ["6", "PendingActionStep", "EXECUTED", "Task bean/method invoked from ce_pending_action"],
    ["7", "RulesStep", "AWAITING_CONFIRMATION -> COMPLETED", "Final state transition"],
    ["8", "ResponseResolutionStep", "success response", "User receives completion"],
  ]}
/>

  </TabItem>

  <TabItem value="db" label="Required ce_* Rows">

<DbTable
  title="Control-plane requirements"
  columns={["Table", "Must have", "Consumed by"]}
  rows={[
    ["ce_intent", "CONNECTION_TRANSFER", "IntentResolutionStep"],
    ["ce_intent_classifier", "transfer/move regex", "IntentResolutionStep"],
    ["ce_output_schema", "required slots for transfer", "SchemaExtractionStep"],
    ["ce_rule", "state bootstrap + completeness + completion rules", "RulesStep"],
    ["ce_pending_action", "action_key + bean_name + method_names", "ActionLifecycleStep/PendingActionStep"],
    ["ce_response", "COLLECT_INPUTS, AWAITING_CONFIRMATION, COMPLETED responses", "ResponseResolutionStep"],
    ["ce_config", "dialogue/prompt keys", "DialogueActStep/Schema steps"],
    ["ce_policy", "optional policy blocks", "PolicyEnforcementStep"],
  ]}
/>

<CodeBlockToggle title="Seed snippet: pending action + rules" language="sql">
{`INSERT INTO ce_pending_action
(intent_code, state_code, action_key, bean_name, method_names, priority, enabled, description)
VALUES
('CONNECTION_TRANSFER', 'AWAITING_CONFIRMATION', 'FINALIZE_CONNECTION_TRANSFER',
 'faqRuleTask', 'injectContainerData', 1, true,
 'Demo finalize action for connection transfer');

INSERT INTO ce_rule (phase, intent_code, state_code, rule_type, match_pattern, "action", action_value, priority, enabled)
VALUES
('PIPELINE_RULES', 'CONNECTION_TRANSFER', 'IDLE', 'REGEX', '.*', 'SET_STATE', 'COLLECT_INPUTS', 10, true),
('PIPELINE_RULES', 'CONNECTION_TRANSFER', 'COLLECT_INPUTS', 'JSON_PATH',
 '$[?(@.state == ''COLLECT_INPUTS'' && @.customerId && @.phone && @.email && @.sourceCity && @.targetCity)]',
 'SET_STATE', 'AWAITING_CONFIRMATION', 100, true),
('PIPELINE_RULES', 'CONNECTION_TRANSFER', 'AWAITING_CONFIRMATION', 'JSON_PATH',
 '$[?(@.state == ''AWAITING_CONFIRMATION'' && (@.pending_action_result == ''EXECUTED'' || @.inputParams.pending_action_result == ''EXECUTED''))]',
 'SET_STATE', 'COMPLETED', 200, true);`}
</CodeBlockToggle>

  </TabItem>

  <TabItem value="audit" label="Audit + Payload Postmortem">

<DbTable
  title="Confirmation turn audit chain (must appear in order)"
  columns={["Order", "Stage", "Payload keys to verify"]}
  rows={[
    ["1", "DIALOGUE_ACT_CLASSIFIED", "dialogueAct=AFFIRM, confidence, source"],
    ["2", "INTERACTION_POLICY_DECIDED", "policyDecision=EXECUTE_PENDING_ACTION"],
    ["3", "PENDING_ACTION_LIFECYCLE", "status=IN_PROGRESS"],
    ["4", "GUARDRAIL_ALLOW", "result=ALLOW"],
    ["5", "PENDING_ACTION_EXECUTED", "pendingActionResult=EXECUTED"],
    ["6", "RULE_APPLIED", "state transition to COMPLETED"],
    ["7", "ASSISTANT_OUTPUT", "final completion response"],
    ["8", "MEMORY_UPDATED", "summary updated"],
  ]}
/>

<CodeBlockToggle title="Audit payload checkpoint: PENDING_ACTION_EXECUTED" language="json">
{`{
  "_meta": { "stage": "PENDING_ACTION_EXECUTED" },
  "policyDecision": "EXECUTE_PENDING_ACTION",
  "pendingActionRef": "faqRuleTask:injectContainerData",
  "pendingActionResult": "EXECUTED",
  "intent": "CONNECTION_TRANSFER",
  "state": "AWAITING_CONFIRMATION"
}`}
</CodeBlockToggle>

<CodeBlockToggle title="Audit payload checkpoint: RULE_APPLIED after execution" language="json">
{`{
  "_meta": { "stage": "RULE_APPLIED" },
  "rulePhase": "PIPELINE_RULES",
  "intent": "CONNECTION_TRANSFER",
  "ruleStateCode": "AWAITING_CONFIRMATION",
  "action": "SET_STATE",
  "actionValue": "COMPLETED"
}`}
</CodeBlockToggle>

<Highlight type="success" title="Fast failure triage">
If user says "yes" but flow loops back to confirmation, check in order:
1) `DIALOGUE_ACT_CLASSIFIED` must be `AFFIRM`
2) `INTERACTION_POLICY_DECIDED` must be `EXECUTE_PENDING_ACTION`
3) `PENDING_ACTION_EXECUTED` must exist
4) `RULE_APPLIED` must transition state from `AWAITING_CONFIRMATION` to terminal state.
</Highlight>

  </TabItem>
</Tabs>

## Example 3: ORDER_CANCELLATION (multi-turn with interaction policy)

<Tabs groupId="v2-cancel-deep">
  <TabItem value="chat" label="Chat Transcript" default>

<Conversation title="Protected Order Cancellation">
  <User>Cancel my shoe order.</User>
  <Assistant>I can help you cancel your order. What is your order number?</Assistant>
  <User>It's 48392.</User>
  <Assistant>Are you sure you want to cancel order 48392? This action is irreversible.</Assistant>
  <User>Yes please do that.</User>
  <Assistant>Order 48392 has been completely cancelled.</Assistant>
</Conversation>

  </TabItem>

  <TabItem value="trace" label="Per-turn Step Trace">

<DbTable
  title="Action Policy Trace"
  columns={["Turn", "Pipeline Step", "Internal Engine Action"]}
  rows={[
    ["Turn 1", "SchemaExtractionStep", "Detects `CANCEL_ORDER`. Fails to extract `orderNumber`. State remains `IDLE`."],
    ["Turn 1", "ResponseResolutionStep", "Outputs IDLE message asking for order number."],
    ["Turn 2", "SchemaExtractionStep", "Engine extracts `orderNumber: 48392`. Flags `schemaComplete=true`."],
    ["Turn 2", "RulesStep", "Auto-advance rule fires, transitioning state to `CONFIRM_CANCEL`."],
    ["Turn 2", "ActionLifecycleStep", "Stages `stripeCancelTask` into `pending_action_runtime` context with `OPEN` status."],
    ["Turn 2", "ResponseResolutionStep", "Generates derived string parsing the memory context `orderNumber`."],
    ["Turn 3", "DialogueActStep", "User says 'Yes'. Act classifier marks input as `AFFIRM`."],
    ["Turn 3", "InteractionPolicyStep", "Matrix outputs `EXECUTE_PENDING_ACTION`. Locks classifier logic."],
    ["Turn 3", "GuardrailStep", "Checks patterns for malicious prompt. Trace output: `GUARDRAIL_ALLOW`."],
    ["Turn 3", "PendingActionStep", "Execution triggered. External API drops order. Status updated to `EXECUTED`."],
    ["Turn 3", "RulesStep", "Rule sees `EXECUTED` task status and triggers state transition to `CANCELLED`."],
    ["Turn 3", "ResponseResolutionStep", "Resolves final derived string using historical `orderNumber`."]
  ]}
/>

  </TabItem>

  <TabItem value="db" label="Required ce_* Rows">

<CodeBlockToggle title="Dynamic Slot & Task DML" language="sql" defaultOpen={true}>
{`INSERT INTO ce_intent (intent_code, enabled) VALUES ('CANCEL_ORDER', true);

INSERT INTO ce_output_schema (intent_code, format_type, schema_json, enabled)
VALUES ('CANCEL_ORDER', 'JSON', '{"type":"object","properties":{"orderNumber":{"type":"string"}},"required":["orderNumber"]}', true);

INSERT INTO ce_prompt_template (intent_code, response_type, system_prompt, enabled)
VALUES ('CANCEL_ORDER', 'SCHEMA_COLLECTION', 'Extract JSON schema fields.', true);

INSERT INTO ce_rule (phase, intent_code, rule_type, action, priority, enabled)
VALUES ('POST_EVAL', 'CANCEL_ORDER', 'CONDITION', 'TRANSITION_STATE:CONFIRM_CANCEL', 10, true);

INSERT INTO ce_response (intent_code, state_code, response_type, exact_text, enabled)
VALUES ('CANCEL_ORDER', 'IDLE', 'EXACT', 'I can help you cancel your order. What is your order number?', true);

INSERT INTO ce_prompt_template (intent_code, response_type, system_prompt, user_prompt, template_id, enabled)
VALUES ('CANCEL_ORDER', 'DERIVED', 'Format order number cleanly.', 'Are you sure you want to cancel order {{context.orderNumber}}? This action is irreversible.', 'tmpl_confirm_cancel', true);

INSERT INTO ce_response (intent_code, state_code, response_type, template_id, enabled)
VALUES ('CANCEL_ORDER', 'CONFIRM_CANCEL', 'DERIVED', 'tmpl_confirm_cancel', true);

INSERT INTO ce_pending_action (intent_code, state_code, action_name, expiration_turns, priority, enabled)
VALUES ('CANCEL_ORDER', 'CONFIRM_CANCEL', 'stripeCancelTask', 3, 10, true);

INSERT INTO ce_rule (phase, intent_code, rule_type, action, priority, enabled)
VALUES ('POST_EVAL', 'CANCEL_ORDER', 'CONDITION', 'TRANSITION_STATE:CANCELLED', 10, true);

INSERT INTO ce_prompt_template (intent_code, response_type, system_prompt, user_prompt, template_id, enabled)
VALUES ('CANCEL_ORDER', 'DERIVED', 'Format cleanly.', 'Order {{context.orderNumber}} has been completely cancelled.', 'tmpl_cancelled', true);

INSERT INTO ce_response (intent_code, state_code, response_type, template_id, enabled)
VALUES ('CANCEL_ORDER', 'CANCELLED', 'DERIVED', 'tmpl_cancelled', true);`}
</CodeBlockToggle>

  </TabItem>

  <TabItem value="audit" label="Audit + Payload Postmortem">

<DbTable
  title="Confirmation turn audit chain"
  columns={["Order", "Stage", "Must contain"]}
  rows={[
    ["1", "DIALOGUE_ACT_CLASSIFIED", "dialogueAct=AFFIRM"],
    ["2", "INTERACTION_POLICY_DECIDED", "policyDecision=EXECUTE_PENDING_ACTION"],
    ["3", "GUARDRAIL_ALLOW", "result=ALLOW"],
    ["4", "PENDING_ACTION_EXECUTED", "pendingActionResult=EXECUTED"],
    ["5", "RULE_APPLIED", "state transition to CANCELLED"],
    ["6", "ASSISTANT_OUTPUT", "final response"]
  ]}
/>

<CodeBlockToggle title="Audit payload checkpoint: PENDING_ACTION_EXECUTED" language="json">
{`{
  "_meta": { "stage": "PENDING_ACTION_EXECUTED" },
  "policyDecision": "EXECUTE_PENDING_ACTION",
  "pendingActionRef": "stripeCancelTask",
  "pendingActionResult": "EXECUTED",
  "intent": "CANCEL_ORDER",
  "state": "CONFIRM_CANCEL"
}`}
</CodeBlockToggle>

  </TabItem>
</Tabs>

## Example 4: INVENTORY_LOOKUP (Tool Orchestration)

<Tabs groupId="v2-inventory-deep">
  <TabItem value="chat" label="Chat Transcript" default>

<Conversation title="DB Orchestration Flow">
  <User>How many running shoes are left in warehouse B?</User>
  <Assistant>Checking the inventory database...</Assistant>
  <User>*[System delay executing Tool]*</User>
  <Assistant>We currently have 421 units of running shoes allocated to warehouse B.</Assistant>
</Conversation>

  </TabItem>
  <TabItem value="trace" label="Per-turn Step Trace">

<DbTable
  title="Tool Dispatch Trace"
  columns={["Pipeline Step", "Internal Engine Action"]}
  rows={[
    ["IntentResolutionStep", "Detects `DATABASE_QUERY` intent. State=`IDLE`."],
    ["ToolOrchestrationStep", "Identifies `INVENTORY_DB` mapping. Routes payload to connected Java component adapting `McpToolExecutor`."],
    ["Tool Execution (Java Adapter)", "Adapter processes input, runs `SELECT count FROM inventory`. Returns JSON payload `{'count': 421}`."],
    ["ToolOrchestrationStep", "Writes returned JSON into engine session variable `tool_result.dbList`. Traces `TOOL_ORCHESTRATION_RESULT`."],
    ["RulesStep", "Evaluates optional `TOOL_POST_EXECUTION` rules."],
    ["ResponseResolutionStep", "Injects the `421` count into the derived template context and calls LLM."]
  ]}
/>

  </TabItem>
  <TabItem value="db" label="Required ce_* Rows">

<CodeBlockToggle title="Tool Orchestration DML" language="sql" defaultOpen={true}>
{`INSERT INTO ce_intent (intent_code, enabled) VALUES ('DATABASE_QUERY', true);

INSERT INTO ce_mcp_tool (intent_code, tool_group, required_params_json, execution_timeout_ms, enabled)
VALUES ('DATABASE_QUERY', 'INVENTORY_DB', '["itemType", "warehouseId"]', 5000, true);

INSERT INTO ce_prompt_template (intent_code, response_type, system_prompt, user_prompt, template_id, enabled)
VALUES ('DATABASE_QUERY', 'DERIVED', 'You are an inventory assistant.', 'Answer from these database results: {{tool_result.dbList}}', 'tmpl_inventory_gen', true);

INSERT INTO ce_response (intent_code, state_code, response_type, template_id, priority, enabled)
VALUES ('DATABASE_QUERY', 'IDLE', 'DERIVED', 'tmpl_inventory_gen', 10, true);`}
</CodeBlockToggle>

  </TabItem>
  <TabItem value="audit" label="Audit + Payload Postmortem">

<DbTable
  title="Tool Orchestration Checkpoints"
  columns={["Order", "Stage", "Payload details"]}
  rows={[
    ["1", "TOOL_ORCHESTRATION_DISPATCH", "toolGroup=INVENTORY_DB, toolParams"],
    ["2", "TOOL_ORCHESTRATION_RESULT", "toolResult={'count': 421}, executionMs"],
    ["3", "ASSISTANT_OUTPUT", "final response interpolation"]
  ]}
/>

  </TabItem>
</Tabs>

## Example 5: SUPPORT_DIAGNOSTIC (Memory Summarization)

<Tabs groupId="v2-support-deep">
  <TabItem value="chat" label="Chat Transcript" default>

<Conversation title="Long Context Support Thread">
  <User>My router is broken.</User>
  <Assistant>Let's check the lights. Are they green?</Assistant>
  <User>*[12 more dialogue turns testing different cables and lights]*</User>
  <Assistant>I suggest performing a factory reset via http://router.local/admin_reset with PIN 1234.</Assistant>
  <User>*[User is quiet for minutes]*</User>
  <User>[Turn 15]: Wait, what link did you tell me to use for the firmware reset again?</User>
  <Assistant>Based on our previous troubleshooting, you should use http://router.local/admin_reset with the default PIN 1234.</Assistant>
</Conversation>

  </TabItem>
  <TabItem value="trace" label="Per-turn Step Trace">

<DbTable
  title="Memory Compression Trace (Turn 15)"
  columns={["Pipeline Step", "Internal Engine Action"]}
  rows={[
    ["MemoryStep (Background)", "Fetches raw history and asks LLM to re-summarize it into a tight timeline snapshot. Persists to `ce_memory`."],
    ["DialogueActStep", "User asks 'what link did you tell me to use?'. Abstracted act=`QUESTION`."],
    ["MemoryStep (Injection)", "Injects the compressed `memory.session_summary` variable directly into current Turn 15 context."],
    ["IntentResolutionStep", "Resolves exact `SUPPORT_DIAGNOSTIC` intent leveraging memory context."],
    ["ResponseResolutionStep", "Template retrieves the exact `http://router.local` string generated 10 turns ago."]
  ]}
/>

  </TabItem>
  <TabItem value="db" label="Required Configuration">

<CodeBlockToggle title="Memory Auto-Summarization Config" language="yaml" defaultOpen={true}>
{`convengine:
  flow:
    memory:
      enabled: true
      # Max token size for the compressed summary string
      summary-max-chars: 1200
      # Number of turns to trigger a new summary compression cycle
      recent-turns-for-summary: 3`}
</CodeBlockToggle>

  </TabItem>
  <TabItem value="audit" label="Audit + Payload Postmortem">

<DbTable
  title="Memory Checkpoints"
  columns={["Order", "Stage", "Payload details"]}
  rows={[
    ["1", "MEMORY_EVALUATED", "evaluatedTurns, previousSummaryLen"],
    ["2", "MEMORY_UPDATED", "newSummary generated and injected"],
    ["3", "INTENT_RESOLVED", "context aware resolution"]
  ]}
/>

  </TabItem>
</Tabs>

