---
title: Version History
sidebar_position: 5
---

import { Highlight, DbTable, MethodRef } from "@site/src/components/convengine";

# Version History

<Highlight type="info" title="Important note on sequence">
There is a non-linear period (`1.0.3 -> 1.0.2 -> 1.0.3`) visible in raw commit history, which typically happens during branch merges/backports.  
Current published artifact in `pom.xml` is <MethodRef>1.0.15</MethodRef>.
</Highlight>

## Artifact Version Bumps (`pom.xml`)

<DbTable
  title="Version bump trail from Git"
  columns={["Date", "Commit", "pom.xml change", "Headline"]}
  rows={[
    ["2026-01-04", "1ff9681", "-> 1.0.0", "Base code: core entities and interfaces"],
    ["2026-01-16", "0f1ff98", "1.0.0 -> 2.0.0", "Large framework/entity expansion (transitional line)"],
    ["2026-01-27", "7e778cc", "2.0.0 -> 1.0.0", "Packaging/publishing reset + metadata hardening"],
    ["2026-01-28", "cb38cc8", "1.0.0 -> 1.0.1", "Release bump + core dependency refresh"],
    ["2026-02-07", "e302374", "1.0.1 -> 1.0.3", "Intent/state handling upgrade"],
    ["2026-02-08", "d8faa28", "1.0.3 -> 1.0.2", "JSON/session action resolver line (non-linear branch)"],
    ["2026-02-12", "976c8f8", "1.0.2 -> 1.0.3", "Response/session improvements + container/schema refinements"],
    ["2026-02-12", "48aae75", "1.0.3 -> 1.0.4", "RulesStep integration into intent flow + audit improvements"],
    ["2026-02-12", "6f6033d", "1.0.4 -> 1.0.5", "inputParamsJson and better session continuity"],
    ["2026-02-13", "05f9077", "1.0.5 -> 1.0.7", "Schema handling + agent resolver controls"],
    ["2026-02-14", "a2daeec", "1.0.7 -> 1.0.8", "Audit listener model + SSE/STOMP transport + reset flow"],
    ["2026-02-16", "695ef79", "1.0.8 -> 1.0.9", "Experimental SQL generation zip export + SQL-by-table response model"],
    ["2026-02-17", "working-tree", "1.0.9 -> 1.0.10", "Rule phase model + sticky intent continuity + stream validator hardening"],
    ["2026-02-18", "working-tree", "1.0.10 -> 1.0.11", "Cross-database persistence hardening + sticky intent refinement"],
    ["2026-02-19", "working-tree", "1.0.11 -> 1.0.12", "Audit metadata enrichment (`inputParams` vs `userInputParams`)"],
    ["2026-02-19", "working-tree", "1.0.12 -> 1.0.13", "Audit persistence strategy split + sync conversation history table"],
    ["2026-02-19", "working-tree", "1.0.13 -> 1.0.14", "Added `ce_rule.state_code` rule scoping support"],
    ["2026-02-19", "working-tree", "1.0.14 -> 1.0.15", "Schema resolver provider refactor + centralized audit/payload/input-param keys"],
  ]}
/>

## Release Notes By Version

### 1.0.15 (Current in `pom.xml`)

What changed:
- Refactored `SchemaExtractionStep` into orchestration-only flow and moved schema-heavy calculation into provider contract.
- Added provider computation model:
  - `ConvEngineSchemaComputation`
  - `ConvEngineSchemaResolver#compute(...)`
  - `ConvEngineSchemaResolver#sanitizeExtractedJson(...)`
  - `ConvEngineSchemaResolver#mergeContextJson(...)`
- `DefaultConvEngineSchemaResolver` now owns sanitize/merge/completeness/missing-fields/missing-options behavior.
- Clean provider override model for consumers:
  - consumers can register their own `ConvEngineSchemaResolver` bean
  - selection honors higher precedence via Spring `@Order`.
- Centralized runtime input-param keys into `ConvEngineInputParamKey`.
- Centralized fixed audit stages into `ConvEngineAuditStage`.
- Centralized payload map keys into `ConvEnginePayloadKey`.

### 1.0.14

What changed:
- Added optional `ce_rule.state_code` to scope rule execution by state.
- Runtime matching contract:
  - `NULL` -> applies to all states
  - `ANY` -> applies to all states
  - exact value -> applies only when session state matches (case-insensitive)

### 1.0.13

What changed:
- Split audit DB persistence into strategy classes (`IMMEDIATE` and `DEFERRED_BULK`) selected by factory at runtime.
- Kept `ce_conversation_history` persistence synchronous on every eligible stage to keep prompt `{{conversation_history}}` deterministic.
- Allowed `ce_audit` to run deferred-bulk while preserving conversation history availability.
- Added `_meta` persistence toggle via `convengine.audit.persist-meta`.
- Removed framework-bundled default `application.yaml`; consumer now owns `convengine.*` config.

### 1.0.12

What changed:
- Added audit metadata enrichment for every stage:
  - `_meta.inputParams`: runtime/session-mutated parameter view
  - `_meta.userInputParams`: API-origin parameter snapshot
- Added controller-ingress deep-copy isolation for `userInputParams` so nested request objects are immutable from later runtime mutations.
- Extracted deep-copy logic into a reusable engine helper:
  - `com.github.salilvnair.convengine.engine.helper.InputParamsHelper`

### 1.0.11

What changed:
- Added cross-database persistence hardening across SQLite, Postgres, and Oracle:
  - JSON column binding now uses Hibernate JSON JDBC typing for `jsonb` paths
  - audit persistence now uses dialect-aware JSON/timestamp JDBC binding
- Added SQLite legacy runtime normalization at startup:
  - normalizes epoch timestamp text rows into parse-safe datetime text
  - normalizes legacy BLOB `conversation_id` rows into canonical UUID text
- Refined sticky intent semantics:
  - sticky skip now applies only during active incomplete-schema collection
  - outside schema collection, intent can re-resolve for semantically new turns

### 1.0.10

What changed:
- Added `ce_rule.phase` execution model:
  - `PIPELINE_RULES`
  - `AGENT_POST_INTENT`
- Added runtime rule-phase filtering so:
  - `RulesStep` executes only `PIPELINE_RULES`
  - `AgentIntentResolver` post-intent pass executes only `AGENT_POST_INTENT`
- Added session/input metadata for rule-source awareness:
  - `postIntentRule`, `post_intent_rule`
  - `rule_phase`
  - `rule_execution_source`, `rule_execution_origin`
- Added post-intent rule invocation after accepted agent intent.
- Added sticky intent continuity controls:
  - `IntentResolutionStep.STICKY_INTENT` (`ce_config`, default `true`)
  - skip intent re-resolution when intent/state are already resolved
  - added audit stage `INTENT_RESOLVE_SKIPPED_STICKY_INTENT`
  - explicit reset/switch/force signals still allow re-resolution
- Updated prompt variable exposure:
  - prompt `extra` now receives all `inputParams` keys
  - includes runtime/system-derived keys set via `session.putInputParam(...)`
- Hardened stream startup validation and condition timing behavior to avoid false-positive startup failures.
- Updated SQL generation docs/prompts to include `ce_rule.phase` contract.

### 1.0.9

Commit: `695ef79`

What changed:
- Enhanced experimental SQL generation API output for consumer import workflows.
- Added SQL-by-table response structure to make generated output easier to inspect and apply incrementally.
- Added zip packaging support with per-table SQL files plus combined `seed.sql`.
- Updated docs and SQL generation guidance for clarity and alignment with current runtime model.

### 1.0.8

Commits:
- `a2daeec` core release bump and transport/audit foundation
- `57a2faa` async audit dispatch + deferred flush controls (post-bump enhancements on same line)
- `c5c665f` typed step API via <MethodRef>EngineStep.Name</MethodRef>
- `0c2c557` rule action rename to <MethodRef>GET_SCHEMA_JSON</MethodRef>

What changed in detail:
- Added streaming transport stack:
  - SSE and STOMP/WebSocket support
  - consumer-configurable stream mode
- Added audit event plumbing:
  - `AuditEventListener` extension point
  - stage broadcast path for streaming UIs
- Added advanced audit controls:
  - async dispatch workers
  - queue/backpressure policy
  - deferred bulk persistence + flush triggers
- Strengthened step extension API:
  - string-based step matching replaced by typed <MethodRef>EngineStep.Name</MethodRef>
  - safer `EngineStepHook` contracts (`supports/beforeStep/afterStep/onStepError`)
- Renamed schema action contract:
  - `GET_SCHEMA_EXTRACTED_DATA` -> `GET_SCHEMA_JSON`
  - aligned resolver/session access semantics

### 1.0.7

Commit: `05f9077`

What changed:
- Schema extraction and intent resolution refinements
- additional agent resolver controls/flags
- better handling of schema-aware intent decisions

### 1.0.5

Commit: `6f6033d`

What changed:
- Session continuity improvements with `inputParamsJson`
- stronger propagation of input parameters across turns
- better task action resolution in rules/action path

### 1.0.4

Commit: `48aae75`

What changed:
- Intent pipeline refactor to integrate <MethodRef>RulesStep</MethodRef> cleanly
- improved rule-driven transition behavior
- richer audit emission around intent/rule flow

### 1.0.3 Line

Commits: `e302374`, `976c8f8` (and non-linear branch point via `d8faa28`)

What changed:
- Intent/state handling updates
- response transformation improvements
- container data handling and schema path upgrades
- new JSON/session action resolvers and structured auditing

### 1.0.1 / 1.0.0 Foundation

Commits: `cb38cc8`, `7e778cc`, `1ff9681`

What changed:
- Initial publish line and project metadata hardening
- dependency/property cleanup in `pom.xml`
- foundational entities/interfaces and deterministic engine baseline

## Non-Versioned (But Significant) Commits

<DbTable
  title="Feature commits not tied to a new pom version"
  columns={["Commit", "Area", "Why it matters"]}
  rows={[
    ["57a2faa", "Audit + streaming controls", "Introduced async audit dispatch controls and deferred flush behavior for production performance"],
    ["c5c665f", "Step API typing", "Reduced runtime errors by replacing stringly-typed step names with EngineStep.Name enum"],
    ["0c2c557", "Rule action semantics", "Standardized schema action contract to GET_SCHEMA_JSON across engine/actions/docs"],
    ["7f4eb70", "Prompt/schema naming", "Aligned template/output naming (`SCHEMA_JSON`) and improved prompt-template retrieval by state"],
  ]}
/>

## Current State Snapshot

<DbTable
  title="Current library status"
  columns={["Signal", "Value"]}
  rows={[
    ["Artifact version (`pom.xml`)", "1.0.15"],
    ["Engine extension style", "Typed step hooks via EngineStep.Name"],
    ["Streaming", "REST + SSE + STOMP/WebSocket"],
    ["Audit model", "Immediate or deferred bulk persistence with async dispatch options"],
    ["Schema rule action", "GET_SCHEMA_JSON"],
    ["Rule phase contract", "PIPELINE_RULES + AGENT_POST_INTENT"],
  ]}
/>
