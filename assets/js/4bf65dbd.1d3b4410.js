"use strict";(globalThis.webpackChunkconvengine_docs=globalThis.webpackChunkconvengine_docs||[]).push([[1164],{7506(e,i,n){n.r(i),n.d(i,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"deep-dive/v2-features","title":"Detailed Features","description":"1. DialogueActStep","source":"@site/docs/v2/deep-dive/v2-features.mdx","sourceDirName":"deep-dive","slug":"/deep-dive/v2-features","permalink":"/docs/v2/deep-dive/v2-features","draft":false,"unlisted":false,"editUrl":"https://github.com/salilvnair/convengine-docs/tree/main/docs/v2/deep-dive/v2-features.mdx","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"title":"Detailed Features","sidebar_position":11},"sidebar":"docSidebar","previous":{"title":"MCP and Audit","permalink":"/docs/v2/deep-dive/mcp-audit"},"next":{"title":"Data Correctness Gotchas","permalink":"/docs/v2/deep-dive/failure-gotchas"}}');var s=n(4848),c=n(8453);const d={title:"Detailed Features",sidebar_position:11},r="ConvEngine Detailed Features",t={},o=[{value:"1. DialogueActStep",id:"1-dialogueactstep",level:2},{value:"2. InteractionPolicyStep",id:"2-interactionpolicystep",level:2},{value:"3. ActionLifecycleStep",id:"3-actionlifecyclestep",level:2},{value:"4. ToolOrchestrationStep",id:"4-toolorchestrationstep",level:2},{value:"5. GuardrailStep",id:"5-guardrailstep",level:2},{value:"6. StateGraphStep (validate mode)",id:"6-stategraphstep-validate-mode",level:2},{value:"7. DisambiguationStep",id:"7-disambiguationstep",level:2},{value:"8. MemoryStep",id:"8-memorystep",level:2},{value:"9. Eval/Trace framework",id:"9-evaltrace-framework",level:2},{value:"10. Consumer contract docs",id:"10-consumer-contract-docs",level:2}];function a(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"convengine-detailed-features",children:"ConvEngine Detailed Features"})}),"\n",(0,s.jsx)(i.h2,{id:"1-dialogueactstep",children:"1. DialogueActStep"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Adds configurable resolve mode via ",(0,s.jsx)(i.code,{children:"convengine.flow.dialogue-act.resolute"}),":","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"REGEX_ONLY"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"REGEX_THEN_LLM"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"LLM_ONLY"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Fast-path regex classification remains primary."}),"\n",(0,s.jsx)(i.li,{children:"LLM path used for ambiguity based on configured threshold."}),"\n",(0,s.jsxs)(i.li,{children:["Emits: ",(0,s.jsx)(i.code,{children:"DIALOGUE_ACT_CLASSIFIED"})," audit."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"2-interactionpolicystep",children:"2. InteractionPolicyStep"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Policy matrix externalized in ",(0,s.jsx)(i.code,{children:"convengine.flow.interaction-policy.matrix"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Default safe matrix included."}),"\n",(0,s.jsxs)(i.li,{children:["Output remains deterministic enums:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"EXECUTE_PENDING_ACTION"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"REJECT_PENDING_ACTION"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"FILL_PENDING_SLOT"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"RECLASSIFY_INTENT"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Emits: ",(0,s.jsx)(i.code,{children:"INTERACTION_POLICY_DECIDED"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"3-actionlifecyclestep",children:"3. ActionLifecycleStep"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Runtime lifecycle stored in context ",(0,s.jsx)(i.code,{children:"pending_action_runtime"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Status values:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"OPEN"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"IN_PROGRESS"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"EXECUTED"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"REJECTED"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"EXPIRED"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["TTL by turns/time configurable via ",(0,s.jsx)(i.code,{children:"convengine.flow.action-lifecycle.*"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Uses ",(0,s.jsx)(i.code,{children:"ce_pending_action"})," as catalog only."]}),"\n",(0,s.jsxs)(i.li,{children:["Emits: ",(0,s.jsx)(i.code,{children:"PENDING_ACTION_LIFECYCLE"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"4-toolorchestrationstep",children:"4. ToolOrchestrationStep"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Unified tool contract:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["request (",(0,s.jsx)(i.code,{children:"tool_request"}),")"]}),"\n",(0,s.jsx)(i.li,{children:"execute"}),"\n",(0,s.jsxs)(i.li,{children:["result (",(0,s.jsx)(i.code,{children:"tool_result"}),", ",(0,s.jsx)(i.code,{children:"tool_status"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Keeps DB executor path and adds group dispatch interfaces for:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"HTTP_API"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"WORKFLOW_ACTION"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"DOCUMENT_RETRIEVAL"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"CALCULATOR_TRANSFORM"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"NOTIFICATION"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"FILES"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["MCP tool eligibility is scoped by optional ",(0,s.jsx)(i.code,{children:"ce_mcp_tool.intent_code"})," and ",(0,s.jsx)(i.code,{children:"ce_mcp_tool.state_code"})," (with ",(0,s.jsx)(i.code,{children:"NULL"})," as wildcard)."]}),"\n",(0,s.jsxs)(i.li,{children:["Executes post-tool rules with ",(0,s.jsx)(i.code,{children:"TOOL_POST_EXECUTION"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"5-guardrailstep",children:"5. GuardrailStep"}),"\n",(0,s.jsx)(i.p,{children:"Before tool/action execution:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"input sanitization"}),"\n",(0,s.jsx)(i.li,{children:"sensitive action pattern checks"}),"\n",(0,s.jsx)(i.li,{children:"approval gate hooks"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Outputs:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["allow/deny audit entries (",(0,s.jsx)(i.code,{children:"GUARDRAIL_ALLOW"}),", ",(0,s.jsx)(i.code,{children:"GUARDRAIL_DENY"}),")"]}),"\n",(0,s.jsx)(i.li,{children:"skip flags for tool/pending-action execution when denied"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"6-stategraphstep-validate-mode",children:"6. StateGraphStep (validate mode)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Validates transition only, no forced mutation."}),"\n",(0,s.jsxs)(i.li,{children:["Emits:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"STATE_GRAPH_VALID"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"STATE_GRAPH_VIOLATION"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Can set optional soft-block flag for downstream behavior."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"7-disambiguationstep",children:"7. DisambiguationStep"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["When multiple pending actions eligible at same top priority:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"asks targeted clarification"}),"\n",(0,s.jsx)(i.li,{children:"pauses execution cleanly"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Emits: ",(0,s.jsx)(i.code,{children:"DISAMBIGUATION_REQUIRED"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"8-memorystep",children:"8. MemoryStep"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Writes session summary in context."}),"\n",(0,s.jsxs)(i.li,{children:["Optional recall/write via pluggable ",(0,s.jsx)(i.code,{children:"ConversationMemoryStore"})," adapter."]}),"\n",(0,s.jsxs)(i.li,{children:["Emits: ",(0,s.jsx)(i.code,{children:"MEMORY_UPDATED"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"9-evaltrace-framework",children:"9. Eval/Trace framework"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ConversationReplayService"})," replays conversations from input messages."]}),"\n",(0,s.jsx)(i.li,{children:"Supports expectation assertions for intent/state regressions."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"10-consumer-contract-docs",children:"10. Consumer contract docs"}),"\n",(0,s.jsx)(i.p,{children:"Consumer should configure behavior with data/config first:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"ce_rule"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"ce_response"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"ce_pending_action"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"ce_mcp_tool"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"convengine.flow.*"})}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Avoid hardcoding conversational decisions in controller/service code."})]})}function h(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);