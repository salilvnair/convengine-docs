"use strict";(globalThis.webpackChunkconvengine_docs=globalThis.webpackChunkconvengine_docs||[]).push([[4087],{2752(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"faq","title":"FAQ","description":"What version is the current v2 documentation aligned to?","source":"@site/docs/v2/faq.mdx","sourceDirName":".","slug":"/faq","permalink":"/docs/v2/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/salilvnair/convengine-docs/tree/main/docs/v2/faq.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"FAQ","sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"Flow Examples","permalink":"/docs/v2/examples"},"next":{"title":"Local Development","permalink":"/docs/v2/local-development"}}');var r=i(4848),l=i(8453);const t={title:"FAQ",sidebar_position:4},o="FAQ",c={},d=[{value:"What version is the current v2 documentation aligned to?",id:"what-version-is-the-current-v2-documentation-aligned-to",level:2},{value:"Is v1 still available?",id:"is-v1-still-available",level:2},{value:"What is the fastest mental model for ConvEngine?",id:"what-is-the-fastest-mental-model-for-convengine",level:2},{value:"Does the engine rely only on intent classification?",id:"does-the-engine-rely-only-on-intent-classification",level:2},{value:"How does the engine understand messages like &quot;yes&quot;, &quot;no&quot;, &quot;retry&quot;, or &quot;change email&quot;?",id:"how-does-the-engine-understand-messages-like-yes-no-retry-or-change-email",level:2},{value:"Does <code>StateGraphStep</code> mutate state?",id:"does-stategraphstep-mutate-state",level:2},{value:"Can I configure behavior without changing Java code?",id:"can-i-configure-behavior-without-changing-java-code",level:2},{value:"Do <code>ce_mcp_tool.intent_code</code> and <code>state_code</code> still support null wildcard behavior?",id:"do-ce_mcp_toolintent_code-and-state_code-still-support-null-wildcard-behavior",level:2},{value:"What is <code>ce_mcp_planner</code> for?",id:"what-is-ce_mcp_planner-for",level:2},{value:"What is the difference between <code>ToolOrchestrationStep</code> and <code>McpToolStep</code>?",id:"what-is-the-difference-between-toolorchestrationstep-and-mcptoolstep",level:2},{value:"When should I use <code>ANY</code> scope?",id:"when-should-i-use-any-scope",level:2},{value:"What is <code>ce_verbose</code>, and do I need it?",id:"what-is-ce_verbose-and-do-i-need-it",level:2},{value:"What are the most important rule phases now?",id:"what-are-the-most-important-rule-phases-now",level:2},{value:"Can rules change more than state and intent?",id:"can-rules-change-more-than-state-and-intent",level:2},{value:"How should I think about <code>ce_prompt_template</code> in current v2?",id:"how-should-i-think-about-ce_prompt_template-in-current-v2",level:2},{value:"Is prompt rendering still just <code>{{var}}</code> substitution?",id:"is-prompt-rendering-still-just-var-substitution",level:2},{value:"What are the most important runtime endpoints for debugging?",id:"what-are-the-most-important-runtime-endpoints-for-debugging",level:2},{value:"What is the most important production safeguard the framework does not provide automatically?",id:"what-is-the-most-important-production-safeguard-the-framework-does-not-provide-automatically",level:2},{value:"How do we avoid 500s or broken user output for conversational mismatches?",id:"how-do-we-avoid-500s-or-broken-user-output-for-conversational-mismatches",level:2},{value:"Should new consumers enable everything immediately?",id:"should-new-consumers-enable-everything-immediately",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"faq",children:"FAQ"})}),"\n",(0,r.jsx)(n.h2,{id:"what-version-is-the-current-v2-documentation-aligned-to",children:"What version is the current v2 documentation aligned to?"}),"\n",(0,r.jsxs)(n.p,{children:["The current v2 docs are aligned to the active repo state and the current released line documented in this repo, which is ",(0,r.jsx)(n.code,{children:"2.0.9"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"That includes newer v2 additions such as:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"CorrectionStep"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_mcp_planner"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_verbose"})}),"\n",(0,r.jsxs)(n.li,{children:["extra rule phases like ",(0,r.jsx)(n.code,{children:"POST_SCHEMA_EXTRACTION"})," and ",(0,r.jsx)(n.code,{children:"PRE_AGENT_MCP"})]}),"\n",(0,r.jsx)(n.li,{children:"shared Thymeleaf-backed prompt rendering"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"is-v1-still-available",children:"Is v1 still available?"}),"\n",(0,r.jsx)(n.p,{children:"Yes. v1 docs are still available from the version selector."}),"\n",(0,r.jsx)(n.p,{children:"Use v1 only if you are maintaining an existing older integration. New work should target the current v2 line."}),"\n",(0,r.jsx)(n.h2,{id:"what-is-the-fastest-mental-model-for-convengine",children:"What is the fastest mental model for ConvEngine?"}),"\n",(0,r.jsx)(n.p,{children:"ConvEngine is a deterministic, database-configured conversation engine."}),"\n",(0,r.jsx)(n.p,{children:"In practice:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Java code provides the runtime pipeline"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ce_*"})," tables provide domain behavior"]}),"\n",(0,r.jsx)(n.li,{children:"rules and scoped rows decide transitions"}),"\n",(0,r.jsx)(n.li,{children:"the LLM is a bounded subsystem inside that pipeline, not the whole engine"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"does-the-engine-rely-only-on-intent-classification",children:"Does the engine rely only on intent classification?"}),"\n",(0,r.jsx)(n.p,{children:"No."}),"\n",(0,r.jsx)(n.p,{children:"Current v2 uses a broader turn-routing model:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DialogueActStep"})," interprets turn intent like ",(0,r.jsx)(n.code,{children:"AFFIRM"}),", ",(0,r.jsx)(n.code,{children:"NEGATE"}),", ",(0,r.jsx)(n.code,{children:"EDIT"}),", ",(0,r.jsx)(n.code,{children:"QUESTION"}),", ",(0,r.jsx)(n.code,{children:"RESET"}),", and ",(0,r.jsx)(n.code,{children:"ANSWER"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"InteractionPolicyStep"})," applies deterministic routing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CorrectionStep"})," can keep a turn in-place for confirm/edit/retry flows"]}),"\n",(0,r.jsx)(n.li,{children:"only then does the engine continue into intent, schema, tools, rules, and response resolution"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"how-does-the-engine-understand-messages-like-yes-no-retry-or-change-email",children:'How does the engine understand messages like "yes", "no", "retry", or "change email"?'}),"\n",(0,r.jsx)(n.p,{children:"It is not just keyword matching against business intents."}),"\n",(0,r.jsx)(n.p,{children:"Those turns are primarily handled by:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"DialogueActStep"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"InteractionPolicyStep"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"CorrectionStep"})}),"\n",(0,r.jsx)(n.li,{children:"pending-action runtime state"}),"\n",(0,r.jsx)(n.li,{children:"prompt-template interaction metadata"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"That is why modern v2 can confirm, reject, retry, or patch fields without forcing a full reclassification every time."}),"\n",(0,r.jsxs)(n.h2,{id:"does-stategraphstep-mutate-state",children:["Does ",(0,r.jsx)(n.code,{children:"StateGraphStep"})," mutate state?"]}),"\n",(0,r.jsx)(n.p,{children:"No. The current implementation is validate-only."}),"\n",(0,r.jsx)(n.p,{children:"It checks whether the current transition path is acceptable and can set state-graph validity signals for downstream behavior, but it does not directly rewrite the state by itself."}),"\n",(0,r.jsx)(n.h2,{id:"can-i-configure-behavior-without-changing-java-code",children:"Can I configure behavior without changing Java code?"}),"\n",(0,r.jsx)(n.p,{children:"Yes. That is the normal operating model."}),"\n",(0,r.jsx)(n.p,{children:"Most consumer behavior should be driven through configuration and data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_intent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_intent_classifier"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_output_schema"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_prompt_template"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_rule"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_response"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_pending_action"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_mcp_tool"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_mcp_planner"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ce_verbose"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"convengine.flow.*"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"convengine.mcp.*"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Custom Java should be reserved for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"LLM provider integration"}),"\n",(0,r.jsx)(n.li,{children:"tool handlers / executors"}),"\n",(0,r.jsx)(n.li,{children:"task execution"}),"\n",(0,r.jsx)(n.li,{children:"app-specific transformers and policy hooks"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"do-ce_mcp_toolintent_code-and-state_code-still-support-null-wildcard-behavior",children:["Do ",(0,r.jsx)(n.code,{children:"ce_mcp_tool.intent_code"})," and ",(0,r.jsx)(n.code,{children:"state_code"})," still support null wildcard behavior?"]}),"\n",(0,r.jsx)(n.p,{children:"No."}),"\n",(0,r.jsx)(n.p,{children:"That older description is no longer correct for the current v2 line."}),"\n",(0,r.jsx)(n.p,{children:"Current behavior:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"intent_code"})," is required"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"state_code"})," is required"]}),"\n",(0,r.jsxs)(n.li,{children:["valid values are exact scope, ",(0,r.jsx)(n.code,{children:"ANY"}),", or ",(0,r.jsx)(n.code,{children:"UNKNOWN"})]}),"\n",(0,r.jsx)(n.li,{children:"invalid scope rows are blocked by startup validation"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The same explicit-scope model also applies to ",(0,r.jsx)(n.code,{children:"ce_mcp_planner"}),"."]}),"\n",(0,r.jsxs)(n.h2,{id:"what-is-ce_mcp_planner-for",children:["What is ",(0,r.jsx)(n.code,{children:"ce_mcp_planner"})," for?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ce_mcp_planner"})," is the scoped planner prompt source for MCP."]}),"\n",(0,r.jsx)(n.p,{children:"It lets the framework choose planner prompts by intent/state rather than relying only on legacy config keys."}),"\n",(0,r.jsx)(n.p,{children:"Current fallback order is:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["exact ",(0,r.jsx)(n.code,{children:"intent_code + state_code"})]}),"\n",(0,r.jsxs)(n.li,{children:["exact ",(0,r.jsx)(n.code,{children:"intent_code + ANY"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ANY + ANY"})}),"\n",(0,r.jsx)(n.li,{children:"legacy fallback config when planner rows are unavailable"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"what-is-the-difference-between-toolorchestrationstep-and-mcptoolstep",children:["What is the difference between ",(0,r.jsx)(n.code,{children:"ToolOrchestrationStep"})," and ",(0,r.jsx)(n.code,{children:"McpToolStep"}),"?"]}),"\n",(0,r.jsx)(n.p,{children:"They are different execution models."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ToolOrchestrationStep"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"executes exactly one requested tool"}),"\n",(0,r.jsxs)(n.li,{children:["works from ",(0,r.jsx)(n.code,{children:"tool_request"})]}),"\n",(0,r.jsxs)(n.li,{children:["writes ",(0,r.jsx)(n.code,{children:"tool_result"}),", ",(0,r.jsx)(n.code,{children:"tool_status"}),", and ",(0,r.jsx)(n.code,{children:"context.mcp.toolExecution.*"})]}),"\n",(0,r.jsxs)(n.li,{children:["runs ",(0,r.jsx)(n.code,{children:"POST_TOOL_EXECUTION"})," rules"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"McpToolStep"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"runs planner-driven MCP loops"}),"\n",(0,r.jsx)(n.li,{children:"can call multiple tools across a bounded loop"}),"\n",(0,r.jsxs)(n.li,{children:["stores planner observations in ",(0,r.jsx)(n.code,{children:"context.mcp.observations"})]}),"\n",(0,r.jsxs)(n.li,{children:["stores planner answer in ",(0,r.jsx)(n.code,{children:"context.mcp.finalAnswer"})]}),"\n",(0,r.jsxs)(n.li,{children:["runs ",(0,r.jsx)(n.code,{children:"PRE_AGENT_MCP"})," and ",(0,r.jsx)(n.code,{children:"POST_AGENT_MCP"})," rule paths"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"when-should-i-use-any-scope",children:["When should I use ",(0,r.jsx)(n.code,{children:"ANY"})," scope?"]}),"\n",(0,r.jsx)(n.p,{children:"Only when the configuration is truly global."}),"\n",(0,r.jsxs)(n.p,{children:["Use exact intent/state scope first. Move to ",(0,r.jsx)(n.code,{children:"ANY"})," only when:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"the behavior is genuinely shared"}),"\n",(0,r.jsx)(n.li,{children:"the blast radius is acceptable"}),"\n",(0,r.jsx)(n.li,{children:"the row still makes sense across all intended flows"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Overusing ",(0,r.jsx)(n.code,{children:"ANY"})," is one of the easiest ways to create broad but subtle misbehavior."]}),"\n",(0,r.jsxs)(n.h2,{id:"what-is-ce_verbose-and-do-i-need-it",children:["What is ",(0,r.jsx)(n.code,{children:"ce_verbose"}),", and do I need it?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ce_verbose"})," is a runtime progress/error messaging table."]}),"\n",(0,r.jsx)(n.p,{children:"It is strongly recommended in current v2 because it:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"gives the UI and QA a readable progress layer"}),"\n",(0,r.jsx)(n.li,{children:"helps operators understand skipped or degraded paths"}),"\n",(0,r.jsx)(n.li,{children:"complements raw audit events"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"It is not required for the engine to work, but most serious deployments should use it."}),"\n",(0,r.jsx)(n.h2,{id:"what-are-the-most-important-rule-phases-now",children:"What are the most important rule phases now?"}),"\n",(0,r.jsx)(n.p,{children:"Current v2 phases are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST_DIALOGUE_ACT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST_SCHEMA_EXTRACTION"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"PRE_AGENT_MCP"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"PRE_RESPONSE_RESOLUTION"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST_AGENT_INTENT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST_AGENT_MCP"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST_TOOL_EXECUTION"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Legacy names are still normalized, but new configurations should use the current phase names."}),"\n",(0,r.jsx)(n.h2,{id:"can-rules-change-more-than-state-and-intent",children:"Can rules change more than state and intent?"}),"\n",(0,r.jsx)(n.p,{children:"Yes."}),"\n",(0,r.jsx)(n.p,{children:"The rule engine can now do more than classic transition logic. Current actions include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SET_STATE"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SET_INTENT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SET_DIALOGUE_ACT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SET_INPUT_PARAM"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SET_JSON"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SET_TASK"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET_CONTEXT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET_SCHEMA_JSON"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET_SESSION"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"That makes rules more powerful, but also easier to misuse. Keep rule ownership disciplined."}),"\n",(0,r.jsxs)(n.h2,{id:"how-should-i-think-about-ce_prompt_template-in-current-v2",children:["How should I think about ",(0,r.jsx)(n.code,{children:"ce_prompt_template"})," in current v2?"]}),"\n",(0,r.jsx)(n.p,{children:"As both prompt content and runtime behavior metadata."}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"2.0.9+"}),", prompt rows should also describe turn semantics using:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"interaction_mode"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"interaction_contract"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"That is what allows the framework to safely interpret whether a state supports:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"affirm"}),"\n",(0,r.jsx)(n.li,{children:"edit"}),"\n",(0,r.jsx)(n.li,{children:"retry"}),"\n",(0,r.jsx)(n.li,{children:"reset"}),"\n",(0,r.jsx)(n.li,{children:"structured input collection"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"is-prompt-rendering-still-just-var-substitution",children:["Is prompt rendering still just ",(0,r.jsx)(n.code,{children:"{{var}}"})," substitution?"]}),"\n",(0,r.jsx)(n.p,{children:"No."}),"\n",(0,r.jsx)(n.p,{children:"Current v2 uses a shared Thymeleaf-backed renderer."}),"\n",(0,r.jsx)(n.p,{children:"Supported patterns include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"{{var}}"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"#{...}"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"[${...}]"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This rendering path is used across prompt templates and ",(0,r.jsx)(n.code,{children:"ce_verbose"})," messages."]}),"\n",(0,r.jsx)(n.h2,{id:"what-are-the-most-important-runtime-endpoints-for-debugging",children:"What are the most important runtime endpoints for debugging?"}),"\n",(0,r.jsx)(n.p,{children:"The core ones are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST /api/v1/conversation/message"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET /api/v1/conversation/audit/{conversationId}"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET /api/v1/conversation/audit/{conversationId}/trace"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST /api/v1/cache/refresh"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET /api/v1/cache/analyze"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If experimental SQL generation is enabled:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST /api/v1/conversation/experimental/generate-sql"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST /api/v1/conversation/experimental/generate-sql/zip"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"what-is-the-most-important-production-safeguard-the-framework-does-not-provide-automatically",children:"What is the most important production safeguard the framework does not provide automatically?"}),"\n",(0,r.jsx)(n.p,{children:"Conversation-level concurrency control."}),"\n",(0,r.jsxs)(n.p,{children:["The framework does not give you built-in optimistic locking on ",(0,r.jsx)(n.code,{children:"ce_conversation"}),", so you should prevent parallel active turns for the same ",(0,r.jsx)(n.code,{children:"conversationId"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"This is still the most important operational safeguard for correctness."}),"\n",(0,r.jsx)(n.h2,{id:"how-do-we-avoid-500s-or-broken-user-output-for-conversational-mismatches",children:"How do we avoid 500s or broken user output for conversational mismatches?"}),"\n",(0,r.jsx)(n.p,{children:"The best protection is layered:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"make every reachable state have a valid response strategy"}),"\n",(0,r.jsx)(n.li,{children:"keep exact response/rule coverage for active flows"}),"\n",(0,r.jsxs)(n.li,{children:["use ",(0,r.jsx)(n.code,{children:"UNKNOWN"})," / ",(0,r.jsx)(n.code,{children:"ANY"})," intentionally, not accidentally"]}),"\n",(0,r.jsx)(n.li,{children:"test correction, failure, and no-match paths"}),"\n",(0,r.jsx)(n.li,{children:"inspect trace output before shipping config changes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'The goal is not just "no exception." The goal is "no misleading fallback that looks valid."'}),"\n",(0,r.jsx)(n.h2,{id:"should-new-consumers-enable-everything-immediately",children:"Should new consumers enable everything immediately?"}),"\n",(0,r.jsx)(n.p,{children:"No."}),"\n",(0,r.jsx)(n.p,{children:"The safest rollout path is:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"One narrow intent and one deterministic response path."}),"\n",(0,r.jsx)(n.li,{children:"Then schema collection."}),"\n",(0,r.jsx)(n.li,{children:"Then confirmation/correction behavior."}),"\n",(0,r.jsx)(n.li,{children:"Then pending actions or MCP."}),"\n",(0,r.jsx)(n.li,{children:"Then verbose polish and richer streaming behavior."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"That sequence gives you a stable baseline before you widen the runtime surface."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);